<html>

<head>
   <script type="text/javascript">
      let follow = null;
      let square = null;
      let position = null;
      function Start() {
         follow = false;
         square = document.querySelector("#movel");
         position = {};
         let area = document.querySelector("#area");
         square.addEventListener("mousedown", Down);
         area.addEventListener("mousemove", Move);
         square.addEventListener("mouseup", Up);

         square.addEventListener("click", quadradoFunc);
         //quadrado.addEventListener("mouseup", Up);
      }
      function Down(event) {
         follow = true;
         position.dx = event.x - Number(square.getAttribute("x"));
         position.dy = event.y - Number(square.getAttribute("y"));
      }
      function Move(event) {
         if (follow) {
            // square.setAttribute("x", event.x - position.dx);
            // square.setAttribute("y", event.y - position.dy);
            square.setAttribute("width", event.x );
            square.setAttribute("height", event.y );
         }
      }
      function Up(event) {
         follow = false;
      }

      function quadradoFunc(event){
        let quadradoElem = document.querySelector(".pointerDiff");
         console.log(quadradoElem)

        quadradoElem.classList.toggle("visivel")    
      }
   </script>

    <style type="text/css">
        .pointerDiff{
            visibility: hidden;
            fill: blue;
            cursor: pointer
        }
        .visivel{
            visibility: visible
        }
    </style>
</head>

<body onload="Start()">
   <svg id="area" width="100%" height="100%">
      <rect id="movel"  x='0' y='0'  width='100' height='100' fill='green'/>
      <rect id="quadrado" class="pointerDiff visivel" x='95' y='95' width='8' height='8' />
   </svg>
</body>

</html>